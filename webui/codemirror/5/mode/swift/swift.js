// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE
// Swift mode created by Michael Kaminsky https://github.com/mkaminsky11
(function(e){typeof exports=="object"&&typeof module=="object"?e(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(e){"use strict";function t(e){var t={};for(var n=0;n<e.length;n++)t[e[n]]=!0;return t}function p(e,t,p){if(e.eatSpace())return null;var d=e.peek();if(d=="/"){if(e.match("//"))return e.skipToEnd(),"comment";if(e.match("/*"))return t.tokenize.push(m),m(e,t);if(e.match(h))return"string-2"}if(o.indexOf(d)>-1)return e.next(),"operator";if(u.indexOf(d)>-1)return e.match(a),"punctuation";if(d=='"'||d=="'"){e.next();var g=v(d);return t.tokenize.push(g),g(e,t)}if(e.match(f))return"number";if(e.match(c))return"property";if(e.match(l)){var y=e.current();return n.hasOwnProperty(y)?(r.hasOwnProperty(y)&&(t.prev="define"),"keyword"):s.hasOwnProperty(y)?"variable-2":i.hasOwnProperty(y)?"atom":p=="define"?"def":"variable"}return e.next(),null}function d(){var e=0;return function(t,n,r){var i=p(t,n,r);if(i=="punctuation")if(t.current()=="(")++e;else if(t.current()==")"){if(e==0)return t.backUp(1),n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n);--e}return i}}function v(e){return function(t,n){var r,i=!1;while(r=t.next())if(i){if(r=="(")return n.tokenize.push(d()),"string";i=!1}else{if(r==e)break;i=r=="\\"}return n.tokenize.pop(),"string"}}function m(e,t){return e.match(/^(?:[^*]|\*(?!\/))*/),e.match("*/")&&t.tokenize.pop(),"comment"}var n=t(["var","let","class","deinit","enum","extension","func","import","init","protocol","static","struct","subscript","typealias","as","dynamicType","is","new","super","self","Self","Type","__COLUMN__","__FILE__","__FUNCTION__","__LINE__","break","case","continue","default","do","else","fallthrough","if","in","for","return","switch","where","while","associativity","didSet","get","infix","inout","left","mutating","none","nonmutating","operator","override","postfix","precedence","prefix","right","set","unowned","weak","willSet"]),r=t(["var","let","class","enum","extension","func","import","protocol","struct","typealias","dynamicType","for"]),i=t(["Infinity","NaN","undefined","null","true","false","on","off","yes","no","nil","null","this","super"]),s=t(["String","bool","int","string","double","Double","Int","Float","float","public","private","extension"]),o="+-/*%=|&<>#",u=";,.(){}[]",a=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,f=/^-?(?:(?:[\d_]+\.[_\d]*|\.[_\d]+|0o[0-7_\.]+|0b[01_\.]+)(?:e-?[\d_]+)?|0x[\d_a-f\.]+(?:p-?[\d_]+)?)/i,l=/^[_A-Za-z$][_A-Za-z$0-9]*/,c=/^[@\.][_A-Za-z$][_A-Za-z$0-9]*/,h=/^\/(?!\s)(?:\/\/)?(?:\\.|[^\/])+\//;e.defineMode("swift",function(){return{startState:function(){return{prev:null,tokenize:[]}},token:function(e,t){var n=t.prev;t.prev=null;var r=t.tokenize[t.tokenize.length-1]||p,i=r(e,t,n);return!i||i=="comment"?t.prev=n:t.prev||(t.prev=i),i},lineComment:"//",blockCommentStart:"/*",blockCommentEnd:"*/"}}),e.defineMIME("text/x-swift","swift")});