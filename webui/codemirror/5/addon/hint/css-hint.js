// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE
(function(e){typeof exports=="object"&&typeof module=="object"?e(require("../../lib/codemirror"),require("../../mode/css/css")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../../mode/css/css"],e):e(CodeMirror)})(function(e){"use strict";var t={link:1,visited:1,active:1,hover:1,focus:1,"first-letter":1,"first-line":1,"first-child":1,before:1,after:1,lang:1};e.registerHelper("hint","css",function(n){function c(e){for(var t in e)(!a||t.lastIndexOf(a,0)==0)&&l.push(t)}var r=n.getCursor(),i=n.getTokenAt(r),s=e.innerMode(n.getMode(),i.state);if(s.mode.name!="css")return;if(i.type=="keyword"&&"!important".indexOf(i.string)==0)return{list:["!important"],from:e.Pos(r.line,i.start),to:e.Pos(r.line,i.end)};var o=i.start,u=r.ch,a=i.string.slice(0,u-o);/[^\w$_-]/.test(a)&&(a="",o=u=r.ch);var f=e.resolveMode("text/css"),l=[],h=s.state.state;if(h=="pseudo"||i.type=="variable-3")c(t);else if(h=="block"||h=="maybeprop")c(f.propertyKeywords);else if(h=="prop"||h=="parens"||h=="at"||h=="params")c(f.valueKeywords),c(f.colorKeywords);else if(h=="media"||h=="media_parens")c(f.mediaTypes),c(f.mediaFeatures);if(l.length)return{list:l,from:e.Pos(r.line,o),to:e.Pos(r.line,u)}})});